# Altium

## Идея

 - Строим дерево вложенности для многоугольников, затем по четности вложенности определяем компоненты связности
 - Сортируем все точки по x
 - Идём слева по точкам и через каждую точку "проводим прямую", чтобы понять какие ближайшие прямые она пересекает и
     кому они принадлежат
 - Рассматриваем ряд случаев, с какой стороны для каждой прямой точки принадлежат многоугольнику


## Реализация

Поддерживаем сет текущих прямых, формирующих полуплоскости многоугольников. Когда мы идём по точкам, для каждой помним её соседей по многоугольнику. В точке удаляем прямые из сета, которые в ней закончились (erase по прямой параллельной оси Ox проходящей через текущую точку). Затем находим бинпоиском в сете ближайшую сверху прямую по y и ближайшую снизу по y. Добавляем прямые из данной точки, которые уходят по x правее текущей точки (иначе, они либо не имеют значения, либо мы их уже удалили). Если мы стоим в точке, которая ещё не в дереве, создаём для неё вершину и, анализируя ближайшие прямые, смотрим вложенность. Либо многоугольник вложен в один из тех, кому принадлежат ближайшие прямые, либо многоугольник вложен в тот многоугольник, в который вложены 2 ближайших многоугольника.


## Тесты

Компилируем `g++ -std=c++17 solution.cpp`

Тесты можно запускать через `./a.out test_name`

Или через `./a.out` и дальше формат, в котором надо вводить данные из stdin будет описан.

- Кол-во многоугольников
- Для каждого многоугольника кол-во точек
- Каждая точка описывается как пара целых чисел
